#include <iostream>
#include <vector>

using namespace std;

vector<vector<int>> configurations {
  { 0, 4, 7, 5, 2, 6, 1, 3 },
  { 0, 5, 7, 2, 6, 3, 1, 4 },
  { 0, 6, 3, 5, 7, 1, 4, 2 },
  { 0, 6, 4, 7, 1, 3, 5, 2 },
  { 1, 3, 5, 7, 2, 0, 6, 4 },
  { 1, 4, 6, 0, 2, 7, 5, 3 },
  { 1, 4, 6, 3, 0, 7, 5, 2 },
  { 1, 5, 0, 6, 3, 7, 2, 4 },
  { 1, 5, 7, 2, 0, 3, 6, 4 },
  { 1, 6, 2, 5, 7, 4, 0, 3 },
  { 1, 6, 4, 7, 0, 3, 5, 2 },
  { 1, 7, 5, 0, 2, 4, 6, 3 },
  { 2, 0, 6, 4, 7, 1, 3, 5 },
  { 2, 4, 1, 7, 0, 6, 3, 5 },
  { 2, 4, 1, 7, 5, 3, 6, 0 },
  { 2, 4, 6, 0, 3, 1, 7, 5 },
  { 2, 4, 7, 3, 0, 6, 1, 5 },
  { 2, 5, 1, 4, 7, 0, 6, 3 },
  { 2, 5, 1, 6, 0, 3, 7, 4 },
  { 2, 5, 1, 6, 4, 0, 7, 3 },
  { 2, 5, 3, 0, 7, 4, 6, 1 },
  { 2, 5, 3, 1, 7, 4, 6, 0 },
  { 2, 5, 7, 0, 3, 6, 4, 1 },
  { 2, 5, 7, 0, 4, 6, 1, 3 },
  { 2, 5, 7, 1, 3, 0, 6, 4 },
  { 2, 6, 1, 7, 4, 0, 3, 5 },
  { 2, 6, 1, 7, 5, 3, 0, 4 },
  { 2, 7, 3, 6, 0, 5, 1, 4 },
  { 3, 0, 4, 7, 1, 6, 2, 5 },
  { 3, 0, 4, 7, 5, 2, 6, 1 },
  { 3, 1, 4, 7, 5, 0, 2, 6 },
  { 3, 1, 6, 2, 5, 7, 0, 4 },
  { 3, 1, 6, 2, 5, 7, 4, 0 },
  { 3, 1, 6, 4, 0, 7, 5, 2 },
  { 3, 1, 7, 4, 6, 0, 2, 5 },
  { 3, 1, 7, 5, 0, 2, 4, 6 },
  { 3, 5, 0, 4, 1, 7, 2, 6 },
  { 3, 5, 7, 1, 6, 0, 2, 4 },
  { 3, 5, 7, 2, 0, 6, 4, 1 },
  { 3, 6, 0, 7, 4, 1, 5, 2 },
  { 3, 6, 2, 7, 1, 4, 0, 5 },
  { 3, 6, 4, 1, 5, 0, 2, 7 },
  { 3, 6, 4, 2, 0, 5, 7, 1 },
  { 3, 7, 0, 2, 5, 1, 6, 4 },
  { 3, 7, 0, 4, 6, 1, 5, 2 },
  { 3, 7, 4, 2, 0, 6, 1, 5 },
  { 4, 0, 3, 5, 7, 1, 6, 2 },
  { 4, 0, 7, 3, 1, 6, 2, 5 },
  { 4, 0, 7, 5, 2, 6, 1, 3 },
  { 4, 1, 3, 5, 7, 2, 0, 6 },
  { 4, 1, 3, 6, 2, 7, 5, 0 },
  { 4, 1, 5, 0, 6, 3, 7, 2 },
  { 4, 1, 7, 0, 3, 6, 2, 5 },
  { 4, 2, 0, 5, 7, 1, 3, 6 },
  { 4, 2, 0, 6, 1, 7, 5, 3 },
  { 4, 2, 7, 3, 6, 0, 5, 1 },
  { 4, 6, 0, 2, 7, 5, 3, 1 },
  { 4, 6, 0, 3, 1, 7, 5, 2 },
  { 4, 6, 1, 3, 7, 0, 2, 5 },
  { 4, 6, 1, 5, 2, 0, 3, 7 },
  { 4, 6, 1, 5, 2, 0, 7, 3 },
  { 4, 6, 3, 0, 2, 7, 5, 1 },
  { 4, 7, 3, 0, 2, 5, 1, 6 },
  { 4, 7, 3, 0, 6, 1, 5, 2 },
  { 5, 0, 4, 1, 7, 2, 6, 3 },
  { 5, 1, 6, 0, 2, 4, 7, 3 },
  { 5, 1, 6, 0, 3, 7, 4, 2 },
  { 5, 2, 0, 6, 4, 7, 1, 3 },
  { 5, 2, 0, 7, 3, 1, 6, 4 },
  { 5, 2, 0, 7, 4, 1, 3, 6 },
  { 5, 2, 4, 6, 0, 3, 1, 7 },
  { 5, 2, 4, 7, 0, 3, 1, 6 },
  { 5, 2, 6, 1, 3, 7, 0, 4 },
  { 5, 2, 6, 1, 7, 4, 0, 3 },
  { 5, 2, 6, 3, 0, 7, 1, 4 },
  { 5, 3, 0, 4, 7, 1, 6, 2 },
  { 5, 3, 1, 7, 4, 6, 0, 2 },
  { 5, 3, 6, 0, 2, 4, 1, 7 },
  { 5, 3, 6, 0, 7, 1, 4, 2 },
  { 5, 7, 1, 3, 0, 6, 4, 2 },
  { 6, 0, 2, 7, 5, 3, 1, 4 },
  { 6, 1, 3, 0, 7, 4, 2, 5 },
  { 6, 1, 5, 2, 0, 3, 7, 4 },
  { 6, 2, 0, 5, 7, 4, 1, 3 },
  { 6, 2, 7, 1, 4, 0, 5, 3 },
  { 6, 3, 1, 4, 7, 0, 2, 5 },
  { 6, 3, 1, 7, 5, 0, 2, 4 },
  { 6, 4, 2, 0, 5, 7, 1, 3 },
  { 7, 1, 3, 0, 6, 4, 2, 5 },
  { 7, 1, 4, 2, 0, 6, 3, 5 },
  { 7, 2, 0, 5, 1, 4, 6, 3 },
  { 7, 3, 0, 2, 5, 1, 6, 4 },
};

int main() {
  int n;
  cin >> n;
  for (int ni = 0; ni < n; ni++) {
    int dmg[64];
    for (int i = 0; i < 8; i++) {
      for (int j = 0; j < 8; j++) {
        cin >> dmg[i * 8 + j];
      }
    }
    int mx = 0;
    for (vector<int>& configuration : configurations) {
      int total = 0;
      for (int x = 0; x < 8; x++) {
        int y = configuration[x];
        total += dmg[y * 8 + x];
      }
      if (total > mx) mx = total;
    }
    cout << mx << endl;
  }
  return 0;
}
